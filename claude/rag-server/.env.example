# RAG MCP Server Environment Configuration
# Copy this file to .env and configure values for your environment

# Basic Configuration
# Environment: development | production
NODE_ENV=development
# Directory path for document storage
DOCUMENTS_DIR=./documents
# Log level: debug | info | warn | error
LOG_LEVEL=info

# Document Processing Configuration
# Chunk size in tokens (100-8192)
CHUNK_SIZE=600
# Chunk overlap in tokens (0 to chunk_size-1)
CHUNK_OVERLAP=100
# Minimum chunk size in tokens (must be less than CHUNK_SIZE)
MIN_CHUNK_SIZE=400
# Chunking strategy: contextual | normal
CHUNKING_STRATEGY=normal
# Model for contextual chunking (Ollama model name)
CONTEXTUAL_CHUNKING_MODEL=qwen3:1.7b

# Processing Concurrency
# Maximum concurrent document processing (1-10)
MAX_CONCURRENT_PROCESSING=2
# Maximum error history entries (100-10000)
MAX_ERROR_HISTORY=1000
# Embedding processing concurrency (1-8)
EMBEDDING_CONCURRENCY=4

# Ollama Configuration
# Ollama server URL
OLLAMA_BASE_URL=http://localhost:11434
# Embedding model name (e.g., bge-m3:567m, nomic-embed-text)
EMBEDDING_MODEL=bge-m3:567m
# Embedding batch size (1-50)
EMBEDDING_BATCH_SIZE=12

# Vector Store Configuration
# LanceDB storage path
VECTORDB_URL=./.lancedb

# Search Configuration
# Semantic similarity threshold (0.0-1.0)
SEMANTIC_SCORE_THRESHOLD=0.6

# LLM Reranking Configuration
# Enable LLM-based reranking: true | false
ENABLE_LLM_RERANKING=true
# LLM model for reranking (Ollama model name)
LLM_RERANKING_MODEL=qwen3:1.7b
# Reranking timeout in milliseconds (minimum 1000)
LLM_RERANKING_TIMEOUT_MS=120000
# Hybrid search semantic ratio (0.0-1.0, should sum to 1.0 with keyword ratio)
HYBRID_SEMANTIC_RATIO=0.7
# Hybrid search keyword ratio (0.0-1.0, should sum to 1.0 with semantic ratio)
HYBRID_KEYWORD_RATIO=0.3
# Total results to consider for reranking (1-100)
HYBRID_TOTAL_RESULTS_FOR_RERANKING=20

# File Watcher Configuration
# Debounce delay in milliseconds (50-1000)
WATCHER_DEBOUNCE_DELAY=200
# Maximum directory scan depth (1-10)
WATCHER_MAX_SCAN_DEPTH=5
# Maximum processing queue size (10-200)
WATCHER_MAX_PROCESSING_QUEUE=50

# MCP Transport Configuration
# Transport type: stdio | streamable-http
MCP_TRANSPORT=stdio
# HTTP server port (1-65535, used only for streamable-http)
MCP_PORT=3000
# HTTP server host (localhost | 0.0.0.0)
MCP_HOST=localhost
# Enable CORS: true | false
MCP_ENABLE_CORS=true
# Session timeout in milliseconds (60000-3600000)
MCP_SESSION_TIMEOUT=300000
# Allowed origins for CORS (comma-separated or *)
MCP_ALLOWED_ORIGINS=*
# DNS rebinding protection: true | false
MCP_DNS_REBINDING_PROTECTION=false

