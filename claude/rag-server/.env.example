# ========================================
# RAG MCP Server Environment Configuration
# ========================================

# ----------------------------------------
# Basic Configuration
# ----------------------------------------
NODE_ENV=development
DATA_DIR=./.data
DOCUMENTS_DIR=./documents
LOG_LEVEL=info

# ----------------------------------------
# Document Processing
# ----------------------------------------
CHUNK_SIZE=400
CHUNK_OVERLAP=100
MIN_CHUNK_SIZE=300

# Chunking strategy: 'contextual' or 'normal'
CHUNKING_STRATEGY=normal

# Model for contextual chunking (context generation)
CONTEXTUAL_CHUNKING_MODEL=qwen3:0.6b

# Maximum concurrent file processing
MAX_CONCURRENT_PROCESSING=3

# Maximum error history count
MAX_ERROR_HISTORY=1000

# ----------------------------------------
# Ollama Configuration
# ----------------------------------------
# Ollama server URL
OLLAMA_BASE_URL=http://localhost:11434

# Embedding model (available in your Ollama server)
EMBEDDING_MODEL=qllama/multilingual-e5-large-instruct:latest
EMBEDDING_BATCH_SIZE=8

# ----------------------------------------
# Embedding Configuration
# ----------------------------------------
# Embedding processing concurrency
EMBEDDING_CONCURRENCY=3

# ----------------------------------------
# Vector Store Configuration
# ----------------------------------------
# LanceDB URI
LANCEDB_URI=./.data/lancedb

# ----------------------------------------
# Search Configuration
# ----------------------------------------
SEARCH_PIPELINE_TIMEOUT_MS=60000
SEMANTIC_SCORE_THRESHOLD=0.7

# ----------------------------------------
# File Watcher Configuration
# ----------------------------------------
# File watcher debounce delay in milliseconds
WATCHER_DEBOUNCE_DELAY=300

# Maximum directory scan depth
WATCHER_MAX_SCAN_DEPTH=5

# Maximum files in processing queue
WATCHER_MAX_PROCESSING_QUEUE=100

# ----------------------------------------
# MCP Transport Configuration
# ----------------------------------------
# Transport: 'stdio' (default for Claude Desktop) or 'streamable-http'
MCP_TRANSPORT=streamable-http
MCP_PORT=3000
MCP_HOST=localhost
MCP_ENABLE_CORS=true
MCP_SESSION_TIMEOUT=300000
MCP_ALLOWED_ORIGINS=*
MCP_DNS_REBINDING_PROTECTION=false

# MCP Connection Timeouts (in milliseconds)
MCP_CONNECTION_TIMEOUT_MS=120000
MCP_KEEP_ALIVE_TIMEOUT_MS=65000
MCP_REQUEST_TIMEOUT_MS=90000
