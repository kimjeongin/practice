# ========================================
# RAG MCP Server Environment Configuration
# ========================================

# ----------------------------------------
# Basic Configuration
# ----------------------------------------
NODE_ENV=development
DATA_DIR=./.data
DOCUMENTS_DIR=./documents
LOG_LEVEL=info

# ----------------------------------------
# Document Processing
# ----------------------------------------
CHUNK_SIZE=1024
CHUNK_OVERLAP=20
SIMILARITY_TOP_K=5
SIMILARITY_THRESHOLD=0.75

# ----------------------------------------
# Embedding Configuration
# ----------------------------------------
# Service: 'transformers' (local) or 'ollama' (external)
EMBEDDING_SERVICE=transformers

# Model name - Transformers or Ollama specific
# For transformers: gte-multilingual-base
# For ollama: dengcao/Qwen3-Embedding-0.6B:Q8_0
EMBEDDING_MODEL=gte-multilingual-base

# Hardware configuration (device is auto-detected: GPU if available, fallback to CPU)
EMBEDDING_BATCH_SIZE=10
# Dimensions: 768 for gte-multilingual-base, 1024 for Qwen3-Embedding
EMBEDDING_DIMENSIONS=768

# Transformers cache directory
TRANSFORMERS_CACHE_DIR=./.data/.cache/transformers

# Ollama Configuration (if using EMBEDDING_SERVICE=ollama)
OLLAMA_BASE_URL=http://localhost:11434

# ----------------------------------------
# Reranking Configuration
# ----------------------------------------
# Service: 'transformers' (local) or 'ollama' (external)
RERANKING_SERVICE=transformers

# Model name - Transformers or Ollama specific
# For transformers: gte-multilingual-reranker-base
# For ollama: dengcao/Qwen3-Reranker-0.6B:Q8_0
RERANKING_MODEL=gte-multilingual-reranker-base

# Number of top documents to return after reranking
RERANKING_TOP_K=5

# Note: Ollama reranking uses the same OLLAMA_BASE_URL as embeddings

# ----------------------------------------
# Vector Store Configuration
# ----------------------------------------
# LanceDB URI
LANCEDB_URI=./.data/lancedb

# ----------------------------------------
# MCP Transport Configuration
# ----------------------------------------
# Transport: 'stdio' (default for Claude Desktop) or 'streamable-http'
MCP_TRANSPORT=stdio
MCP_PORT=3000
MCP_HOST=localhost
MCP_ENABLE_CORS=true
MCP_SESSION_TIMEOUT=300000
MCP_ALLOWED_ORIGINS=*
MCP_DNS_REBINDING_PROTECTION=false

# MCP Connection Timeouts (in milliseconds)
MCP_CONNECTION_TIMEOUT_MS=120000
MCP_KEEP_ALIVE_TIMEOUT_MS=65000
MCP_REQUEST_TIMEOUT_MS=90000

# ----------------------------------------
# Search Configuration
# ----------------------------------------
SEARCH_PIPELINE_TIMEOUT_MS=60000