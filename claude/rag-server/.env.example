# ====================================================================
# RAG MCP Server Configuration - Production Ready (2025)
# ====================================================================

# Environment
NODE_ENV=development
LOG_LEVEL=debug

# Data Directories
DATA_DIR=./.data
DOCUMENTS_DIR=./documents

# Vector Store Configuration
VECTOR_STORE_PROVIDER=faiss
# FAISS Configuration
FAISS_INDEX_PATH=./.data/vectors

# Alternative Vector Stores (uncomment to use)
# VECTOR_STORE_PROVIDER=qdrant
# QDRANT_URL=http://localhost:6333
# QDRANT_API_KEY=your-api-key
# QDRANT_COLLECTION=documents

# Embedding Service Configuration
EMBEDDING_SERVICE=transformers
EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_BATCH_SIZE=10
EMBEDDING_DIMENSIONS=384
EMBEDDING_DEVICE=cpu

# Transformers.js Configuration (Built-in Local Models)
TRANSFORMERS_CACHE_DIR=./.data/.cache/transformers

# Ollama Configuration (External Local Embedding Server - Optional)
OLLAMA_BASE_URL=http://localhost:11434
# For Ollama: uncomment below and comment above
# EMBEDDING_SERVICE=ollama
# EMBEDDING_MODEL=nomic-embed-text
# EMBEDDING_DIMENSIONS=768

# Document Processing Configuration
CHUNK_SIZE=1024
CHUNK_OVERLAP=20
SIMILARITY_TOP_K=5
SIMILARITY_THRESHOLD=0.1

# Pipeline Configuration
MAX_CONCURRENT_PROCESSING=3
BATCH_SIZE=10
MAX_RETRIES=2
BASE_DELAY=1000
MAX_DELAY=5000

# Search Configuration
ENABLE_HYBRID_SEARCH=true
ENABLE_QUERY_REWRITING=false
SEMANTIC_WEIGHT=0.7
ENABLE_RERANKING=false
ENABLE_COMPRESSION=false

# MCP Transport Configuration
# Choose transport type: stdio, streamable-http, sse
MCP_TRANSPORT=stdio
MCP_PORT=3000
MCP_HOST=localhost
MCP_ENABLE_CORS=true
MCP_SESSION_TIMEOUT=300000
MCP_ALLOWED_ORIGINS=*
MCP_DNS_REBINDING_PROTECTION=false

# For production HTTP transport:
# MCP_TRANSPORT=streamable-http
# MCP_HOST=0.0.0.0
# MCP_PORT=3000

# Monitoring Configuration (Disable in development when using as MCP server)
ENABLE_MONITORING=false
MONITORING_PORT=3001
METRICS_PATH=/metrics
HEALTH_CHECK_PATH=/health

# Advanced Features (Experimental)
ENABLE_CONVERSATIONAL_RAG=false
ENABLE_MULTI_STEP_RETRIEVAL=false
ENABLE_CONTEXTUAL_COMPRESSION=false
ENABLE_ADAPTIVE_RETRIEVAL=false

# File Processing Configuration
SYNC_SCHEDULER_ENABLED=true
FILE_WATCH_ENABLED=true
FILE_WATCH_DEBOUNCE=1000

# Vector Database Synchronization
VECTOR_DB_AUTO_SYNC=true
VECTOR_DB_SYNC_INTERVAL=3600000
VECTOR_DB_INTEGRITY_CHECK=true


# This was inserted by `prisma init`:
# Environment variables declared in this file are automatically made available to Prisma.
# See the documentation for more detail: https://pris.ly/d/prisma-schema#accessing-environment-variables-from-the-schema

# Prisma supports the native connection string format for PostgreSQL, MySQL, SQLite, SQL Server, MongoDB and CockroachDB.
# See the documentation for all the connection string options: https://pris.ly/d/connection-strings

# SQLite database URL for Prisma
DATABASE_URL="file:./database.db"

# ====================================================================
# Production Environment Variables (Copy to .env.production)
# ====================================================================

# For production deployment:
# NODE_ENV=production
# LOG_LEVEL=info
# MCP_TRANSPORT=streamable-http
# MCP_HOST=0.0.0.0
# MCP_PORT=3000
# ENABLE_MONITORING=true
# MONITORING_PORT=3001
# ENABLE_HYBRID_SEARCH=true
# ENABLE_QUERY_REWRITING=true
# ENABLE_RERANKING=true
# ENABLE_COMPRESSION=true
# MAX_CONCURRENT_PROCESSING=10
# BATCH_SIZE=20

# ====================================================================
# Environment Variable Reference
# ====================================================================

# MCP_TRANSPORT: Transport protocol for MCP server
#   - stdio: Standard input/output (for CLI clients)
#   - streamable-http: HTTP with streaming support
#   - sse: Server-Sent Events

# VECTOR_STORE_PROVIDER: Vector database backend
#   - faiss: Facebook AI Similarity Search (local)
#   - qdrant: Qdrant vector database (local/remote)

# EMBEDDING_SERVICE: Embedding generation service
#   - transformers: HuggingFace Transformers.js (local)
#   - ollama: Ollama embedding server (local)

# LOG_LEVEL: Logging verbosity
#   - error: Only errors
#   - warn: Warnings and errors
#   - info: General information
#   - debug: Detailed debugging information